================================================================================
 ğŸ“Š WANDB METRICS - QUICK REFERENCE
================================================================================

ğŸ¯ TOP 5 METRICS TO MONITOR (In Order of Importance)
================================================================================

1. metrics/mAP50(B)                    â­â­â­ MOST IMPORTANT
   â†’ Main success metric
   â†’ Target: > 60%
   â†’ Should increase steadily

2. train/box_loss                      â­â­â­ 
   â†’ Shows learning progress
   â†’ Should decrease smoothly
   â†’ Target: < 1.0 at end

3. metrics/precision(B) & recall(B)    â­â­
   â†’ Both should be > 60%
   â†’ Balance is important
   â†’ precision = accuracy, recall = detection rate

4. metrics/mAP50(B)_[Species]          â­â­
   â†’ Per-class performance
   â†’ Identifies weak species
   â†’ Elephant/Kudu should be highest (~80%)

5. system/gpu_mem                      â­
   â†’ Stability check
   â†’ Should stay 18-20 GB (your L40-24GB)
   â†’ Prevents OOM crashes

================================================================================
 ğŸ“ˆ ALL METRICS LOGGED (Automatic)
================================================================================

TRAINING LOSSES (Lower = Better):
  train/box_loss         Bounding box localization loss
  train/cls_loss         Classification loss
  train/dfl_loss         Distribution Focal Loss
  train/loss             Total loss (sum of above)

VALIDATION METRICS (Higher = Better):
  metrics/mAP50(B)       â˜… mAP @ IoU 0.5 (MAIN METRIC)
  metrics/mAP50-95(B)    mAP averaged over IoU 0.5-0.95
  metrics/precision(B)   Precision (true positive rate)
  metrics/recall(B)      Recall (detection rate)

PER-CLASS mAP50 (Higher = Better):
  metrics/mAP50(B)_Buffalo
  metrics/mAP50(B)_Elephant      â† Expected: ~80% (best)
  metrics/mAP50(B)_Kudu          â† Expected: ~77%
  metrics/mAP50(B)_Topi
  metrics/mAP50(B)_Warthog       â† Expected: ~29% (hardest)
  metrics/mAP50(B)_Waterbuck     â† Expected: ~40%

LEARNING RATE:
  lr/pg0                 Learning rate parameter group 0
  lr/pg1                 Learning rate parameter group 1
  lr/pg2                 Learning rate parameter group 2

SYSTEM METRICS:
  train/epoch            Current epoch number
  train/time             Time per epoch (seconds)
  system/gpu_mem         GPU memory usage (GB)
  system/gpu_util        GPU utilization (%)

================================================================================
 ğŸ¯ EXPECTED VALUES AT DIFFERENT STAGES
================================================================================

EPOCH 10 (Early Training):
  mAP50:           10-30%    (Learning basics)
  box_loss:        1.5-2.0
  cls_loss:        0.7-1.0
  GPU mem:         18-20 GB

EPOCH 25 (Mid Training):
  mAP50:           40-50%    (Steady improvement)
  box_loss:        1.0-1.5
  cls_loss:        0.5-0.7
  Best checkpoint: Usually saved around here

EPOCH 50 (Final / Early Stop):
  mAP50:           60-70%    âœ… TARGET
  box_loss:        0.5-1.0
  cls_loss:        0.4-0.5
  Elephant mAP50:  ~80%      âœ…
  Kudu mAP50:      ~77%      âœ…
  Buffalo mAP50:   ~65%      âœ…
  Waterbuck mAP50: ~40%
  Warthog mAP50:   ~29%      (Difficult - few samples)

================================================================================
 âœ… SUCCESS CRITERIA
================================================================================

GOOD TRAINING RUN:
  âœ“ mAP50 > 60%
  âœ“ All losses decreasing smoothly
  âœ“ No class with mAP50 = 0%
  âœ“ Precision and recall balanced (both > 60%)
  âœ“ GPU memory stable (18-20 GB)
  âœ“ No NaN or inf values

NEEDS IMPROVEMENT:
  âš  mAP50 < 50% after 50 epochs
  âš  High precision, low recall (too conservative)
  âš  Low precision, high recall (too many false positives)
  âš  One or more classes < 10% mAP

TRAINING ISSUES:
  âŒ Losses increasing or oscillating
  âŒ mAP50 stuck at 0-10%
  âŒ GPU memory growing continuously
  âŒ NaN or inf losses
  âŒ Training crashes

================================================================================
 ğŸ“Š WANDB DASHBOARD PANELS
================================================================================

MAIN PANELS TO CREATE:

1. TRAINING PROGRESS
   - metrics/mAP50(B) vs epoch          â† Most important!
   - metrics/precision(B) vs epoch
   - metrics/recall(B) vs epoch

2. LOSSES
   - train/box_loss vs epoch
   - train/cls_loss vs epoch
   - train/dfl_loss vs epoch
   - train/loss vs epoch

3. PER-CLASS PERFORMANCE
   - Bar chart: All mAP50(B)_[species]
   - Shows best/worst performing species

4. SYSTEM MONITORING
   - system/gpu_mem vs epoch
   - system/gpu_util vs epoch
   - train/time vs epoch

================================================================================
 ğŸ” WHAT TO CHECK DURING TRAINING
================================================================================

EVERY 5 EPOCHS:
  â–¡ mAP50 increasing?
  â–¡ box_loss decreasing?
  â–¡ GPU memory stable?
  â–¡ Time per epoch consistent?

AT EPOCH 25 (HALFWAY):
  â–¡ mAP50 > 40%? (On track for 60%+)
  â–¡ All classes being detected? (No 0% classes)
  â–¡ Losses still decreasing? (Not plateaued)

AT EPOCH 50 (END):
  â–¡ mAP50 > 60%? (Success!)
  â–¡ Elephant + Kudu > 70%? (Best performers)
  â–¡ All losses < 1.0? (Converged)
  â–¡ Check per-class chart for weaknesses

================================================================================
 ğŸ”” RECOMMENDED ALERTS
================================================================================

Set up in Wandb dashboard:

1. metrics/mAP50(B) > 0.65           Email when target reached
2. Run finishes                      Notification
3. Run fails                         Immediate alert
4. system/gpu_mem > 22 GB            Memory warning
5. metrics/mAP50(B) plateau > 10 ep  Not improving

================================================================================
 ğŸ“± MONITORING OPTIONS
================================================================================

1. WANDB WEB DASHBOARD
   URL: https://wandb.ai/your-username/yolov11-wildlife-detection
   â†’ Real-time charts
   â†’ Full metrics history
   â†’ Image predictions
   â†’ Model artifacts

2. WANDB MOBILE APP
   â†’ Install on phone (iOS/Android)
   â†’ Get push notifications
   â†’ Quick metrics check
   â†’ Training status

3. TERMINAL OUTPUT
   â†’ Shows current epoch metrics
   â†’ GPU memory usage
   â†’ Time per epoch
   â†’ ETA to completion

4. LOCAL FILES
   â†’ runs/yolov11_wildlife/results.csv
   â†’ Contains all metrics
   â†’ Can import to Excel/Python

================================================================================
 ğŸ“Š EXPORT METRICS
================================================================================

FROM WANDB DASHBOARD:
  â†’ Run page â†’ Overview â†’ Export data â†’ CSV
  â†’ Downloads all metrics as CSV file

FROM PYTHON:
  import wandb
  api = wandb.Api()
  run = api.run("user/project/run-id")
  df = run.history()
  df.to_csv('metrics.csv')

FROM LOCAL FILE:
  cd runs/yolov11_wildlife/
  cat results.csv

================================================================================
 ğŸ“ METRIC DEFINITIONS
================================================================================

mAP50:
  Mean Average Precision at IoU 0.5
  â†’ Main object detection metric
  â†’ 50% overlap = correct detection
  â†’ Higher = better
  â†’ Wildlife target: 60%+

Precision:
  True Positives / (True Positives + False Positives)
  â†’ Of all detections, how many are correct?
  â†’ High precision = few false alarms
  â†’ Target: 70%+

Recall:
  True Positives / (True Positives + False Negatives)
  â†’ Of all animals, how many are detected?
  â†’ High recall = few missed animals
  â†’ Target: 60%+

Box Loss:
  Localization error
  â†’ How accurate are bounding boxes?
  â†’ Lower = more precise boxes
  â†’ Target: < 1.0

Class Loss:
  Classification error
  â†’ How accurate are species IDs?
  â†’ Lower = better species recognition
  â†’ Target: < 0.5

================================================================================
 ğŸ’¡ TIPS
================================================================================

1. Focus on mAP50 as your primary metric
2. Check per-class metrics to identify weak species
3. Balance precision and recall (don't optimize just one)
4. GPU memory should be stable throughout training
5. Losses should decrease smoothly (no wild oscillations)
6. Early stopping usually happens around epoch 40-45
7. Best model often found around epoch 20-30
8. Compare multiple runs in wandb to find best settings
9. Download confusion matrix at end to see class confusions
10. Use wandb for experiment tracking across different configs

================================================================================
 ğŸš€ QUICK ACCESS
================================================================================

START TRAINING:
  python train_vm.py --epochs 50 --batch 4

VIEW DASHBOARD:
  â†’ Link printed at training start
  â†’ https://wandb.ai/your-username/yolov11-wildlife-detection

KEY COMMAND DURING TRAINING:
  â†’ Keep wandb dashboard open in browser
  â†’ Refresh to see latest metrics
  â†’ Charts update automatically

================================================================================
 ğŸ“ NEED HELP?
================================================================================

Complete guide:      WANDB_METRICS_GUIDE.md
General training:    README_TRAINING.md
VM setup:            VM_SETUP_GUIDE.txt
GPU issues:          GPU_MEMORY_GUIDE.md

================================================================================

ğŸ¯ REMEMBER: All metrics are AUTOMATIC!
   Just train and watch the wandb dashboard.
   No extra code needed! âœ¨

================================================================================

